<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data noupdate="0">
        <!-- Rule to hide all apps by default for peas_employee.group_peas_employee_user -->
        <!-- Single rule to show only the Car Sales & Purchase app and its children for PEAS users -->
        <record id="ir_ui_menu_restrict_peas_user" model="ir.rule">
            <field name="name">Show only Car Sales App for PEAS User</field>
            <field name="model_id" ref="base.model_ir_ui_menu"/>
            <field name="groups" eval="[(4, ref('peas_employee.group_peas_employee_user'))]"/>
            <field name="domain_force" eval="[
                '|', '|', 
                ('id', '=', ref('car_sales_purchase.menu_car_sales_purchase_root')), 
                ('parent_id', '=', ref('car_sales_purchase.menu_car_sales_purchase_root')),
                ('parent_id.parent_id', '=', ref('car_sales_purchase.menu_car_sales_purchase_root'))
            ]"/>
            <field name="perm_read" eval="True"/>
            <field name="perm_write" eval="False"/>
            <field name="perm_create" eval="False"/>
            <field name="perm_unlink" eval="False"/>
            <field name="active" eval="True"/>
        </record>
    </data>
</odoo>
